<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="paimon.png" />
    <link rel="stylesheet" href="../style.css">
    </link>

    <title>Smart Kitchen</title>
    <script>
        var res
        window.onload = async function () {
            //res=await fetch("http://localhost:8080/smart_kitchen/servlet/dish")
            //console.log(result)
        }
        async function display() {
            fetch('http://localhost:8080/smart_kitchen/servlet/dish')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response failed');
                    }
                    return response.json(); // This parses the JSON data in the response body
                })
                .then(data => {
                    console.log(data); // You can now work with the JSON data here
                })
                .catch(error => {
                    console.error('There was a problem with the fetch operation:', error);
                });

        }
    </script>

</head>

<body>

    <nav>
        <ul class="nav_links">
            <a href="../index.html">Home</a>
            <a href="Featured.html">Featured</a>
            <a href="../meals/meal.html">Sandwiches & meals</a>
            <a href="../Sides/Side.html">Sides</a>
            <a href="../pizza/p.html">Pizza</a>
            <a href="../drinks/dd.html">Drinks</a>
        </ul>
    </nav>

    <body>
        <div class="cards">
            <div class="image">
                <img src="cb.jpg" alt="Cheese burger">
            </div>
            <div class="title">
                <h1>Cheese burger</h1>
                <button id="add-cheese-burger">+</button>
                <button id="remove-cheese-burger">-</button>
            </div>
        </div>

        <div class="cards">
            <div class="image">
                <img src="ccwarp.jpg" alt="Crispy Chicken Wraps">
            </div>
            <div class="title">
                <h1>CrispyC wraps</h1>
                <button id="add-crispy-wraps">+</button>
                <button id="remove-crispy-wraps">-</button>
            </div>
        </div>

        <div class="cards">
            <div class="image">
                <img src="hotdog.jpg" alt="hotdog">
            </div>
            <div class="title">
                <h1>Hot Dog</h1>
                <button id="add-hot-dog">+</button>
                <button id="remove-hot-dog">-</button>
            </div>
        </div>

        <div class="cards">
            <div class="image">
                <img src="bb.jpg" alt="Bacon burger">
            </div>
            <div class="title">
                <h1>Bacon burger</h1>
                <button id="add-bacon-burger">+</button>
                <button id="remove-bacon-burger">-</button>
            </div>
        </div>
        </div>

        <style>
            .checkout-page {
                display: none;
                position: fixed;
                bottom: 10px;
                right: 10px;
                background: white;
                padding: 10px;
                border: 1px solid #ccc;
                border-radius: 5px;
                box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.2);
            }

            .checkout-button {
                display: block;
                margin-top: 10px;
            }
        </style>

        <div class="checkout-page" id="checkout-page" style="display: none;">
            <h2>Shopping Cart</h2>
            <ul id="cart-items"></ul>
            <p>Total Price: $<span id="total-price">0.00</span></p>
            <button id="checkout-button">Checkout</button>
        </div>


        <script>
            var cart = [];
            var totalPrice = 0.00;

            function addItemToCart(itemName, price) {
                cart.push({ name: itemName, price: price });
                totalPrice += price;
                updateCart();
            }

            function removeItemFromCart(itemName, price) {
                var index = cart.findIndex(item => item.name === itemName);
                if (index !== -1) {
                    totalPrice -= cart[index].price; // Remove the price of the item from the total.
                    cart.splice(index, 1);
                    updateCart();
                }
            }

            function updateCart() {
                var cartItems = document.getElementById("cart-items");
                var total = document.getElementById("total-price");

                cartItems.innerHTML = "";
                cart.forEach(function (item) {
                    var li = document.createElement("li");
                    li.textContent = item.name;
                    cartItems.appendChild(li);
                });

                total.textContent = totalPrice.toFixed(2);
            }

            function showCart() {
                var checkoutPage = document.getElementById("checkout-page");
                checkoutPage.style.display = "block";
            }

            document.getElementById("add-cheese-burger").addEventListener("click", function () {
                addItemToCart("Cheese burger $3.99", 3.99);
            });

            document.getElementById("remove-cheese-burger").addEventListener("click", function () {
                removeItemFromCart("Cheese burger", 3.99);
            });

            document.getElementById("add-crispy-wraps").addEventListener("click", function () {
                addItemToCart("Crispy wraps $2.99", 2.99);
            });

            document.getElementById("remove-crispy-wraps").addEventListener("click", function () {
                removeItemFromCart("Crispy wraps", 2.99);
            });

            document.getElementById("add-hot-dog").addEventListener("click", function () {
                addItemToCart("Hot dog $1.99", 1.99);
            });

            document.getElementById("remove-hot-dog").addEventListener("click", function () {
                removeItemFromCart("Hot dog", 1.99);
            });

            document.getElementById("add-bacon-burger").addEventListener("click", function () {
                addItemToCart("Bacon burger $4.39", 4.39);
            });

            document.getElementById("remove-bacon-burger").addEventListener("click", function () {
                removeItemFromCart("Bacon burger", 4.39);
            });

            // Add similar event listeners for other items.

            document.getElementById("checkout-button").addEventListener("click", function () {
                // Handle the checkout logic here, e.g., redirect to a payment page.
                alert("Redirecting to the payment page. Total Price: $" + totalPrice.toFixed(2));
            });


        </script>
        <style>
            .shopping-cart-icon {
                position: fixed;
                bottom: 10px;
                /* Adjust this value to control the distance from the bottom */
                right: 10px;
                /* Adjust this value to control the distance from the right */
            }
        </style>

        <div class="shopping-cart-icon">
            <img src="cart-icon.png" alt="Cart" id="cart-icon" onclick="showCart()" style="width: 50px; height: 50px;">
        </div>

        <div id="checkout-page" style="display: none;">
            <h2>Shopping Cart</h2>
            <ul id="cart-items"></ul>
            <p>Total Price: $<span id="total-price">0.00</span></p>
            <button id="checkout-button">Checkout</button>
        </div>












    </body>